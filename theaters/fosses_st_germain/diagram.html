<html>
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="../../styles/fonts.css">
	<script src="../../logic/jquery-3.2.1.min.js"></script>
	<script src="../../logic/d3.min.js"></script>
</head>

<body>
	
	<div id="diagram"></div>

</body>

</html>

<style>
	
	body {
		background-color: #FFFFFF;
		font-family: 'MuseoSans300';
	}

	#diagram {
		border: 1px solid #DFDFDF;
		display: block;
		margin: auto;
		margin-top: 5%;
		min-height: 500px;
		width: 75%;
	}

	#diagram::before {
		color: #CCCCCC;
		content: 'Salle de la rue des Fossés-Saint-Germain-des-Près';
		position: absolute;
	}

	.boxes {
		fill: #159489;
		stroke: #159489;
	}
	.boxes:hover {
		cursor: pointer;
		fill: gold;
		stroke: gold;
	}

	.line {
		stroke: #159489;
		fill: #159489;
	}
	.line:hover {
		stroke: gold;
		fill: gold;
	}

</style>


<script>

	var width = $('#diagram').width();
	var height = $('#diagram').height();	
	var measure = Math.min(width, height);

	$(window).resize(function(){
		width = $('#diagram').width();
		height = $('#diagram').height();	
		measure = Math.min(width, height);
	});


	var diagram = d3.select('#diagram').append('svg')
		.attr("width", width)
		.attr("height", height)
		.attr("transform", "translate(" + width * -.05 + "," + height * 0 + ")");;

	var arc_3r = d3.arc()
		.innerRadius(measure * .37)
		.outerRadius(measure * .34)
		.startAngle(1 * Math.PI)
		.endAngle(0 * Math.PI);
	diagram.append("path")
		.attr("class", "boxes troisiemeloge")
		.attr("d", arc_3r)
		.attr("transform", "translate(" + width * .625 + "," + height / 2 + ")");

	var arc_2r = d3.arc()
		.innerRadius(measure * .33)
		.outerRadius(measure * .3)
		.startAngle(1 * Math.PI)
		.endAngle(0 * Math.PI);
	diagram.append("path")
		.attr("class", "boxes deuxiemeloge")
		.attr("d", arc_2r)
		.attr("transform", "translate(" + width * .625 + "," + height / 2 + ")");
	
	var arc_1r = d3.arc()
		.innerRadius(measure * .29)
		.outerRadius(measure * .26)
		.startAngle(1 * Math.PI)
		.endAngle(0 * Math.PI);
	diagram.append("path")
		.attr("class", "boxes premiereloge")
		.attr("d", arc_1r)
		.attr("transform", "translate(" + width * .625 + "," + height / 2 + ")");

	var border_3t = diagram.append("line")
		.attr("x1", width * .625)
		.attr("y1", height / 2 - (measure / 2.8175))
		.attr("x2", width * .25)
		.attr("y2", height / 2 - (measure / 2.8175))
		.attr("class", "boxes troisiemeloge")
		.attr("stroke-width", measure * .03);

	var border_3b = diagram.append("line")
		.attr("x1", width * .625)
		.attr("y1", height / 2 + (measure / 2.8175))
		.attr("x2", width * .25)
		.attr("y2", height / 2 + (measure / 2.8175))
		.attr("class", "boxes troisiemeloge")
		.attr("stroke-width", measure * .03);

	var border_2t = diagram.append("line")
		.attr("x1", width * .625)
		.attr("y1", height / 2 - (measure / 3.175))
		.attr("x2", width * .25)
		.attr("y2", height / 2 - (measure / 3.175))
		.attr("class", "boxes deuxiemeloge")
		.attr("stroke-width", measure * .03);

	var border_2b = diagram.append("line")
		.attr("x1", width * .625)
		.attr("y1", height / 2 + (measure / 3.175))
		.attr("x2", width * .25)
		.attr("y2", height / 2 + (measure / 3.175))
		.attr("class", "boxes deuxiemeloge")
		.attr("stroke-width", measure * .03);

	var border_1t = diagram.append("line")
		.attr("x1", width * .625)
		.attr("y1", height / 2 - (measure / 3.635))
		.attr("x2", width * .25)
		.attr("y2", height / 2 - (measure / 3.635))
		.attr("class", "boxes premiereloge")
		.attr("stroke-width", measure * .03);

	var border_1b = diagram.append("line")
		.attr("x1", width * .625)
		.attr("y1", height / 2 + (measure / 3.635))
		.attr("x2", width * .25)
		.attr("y2", height / 2 + (measure / 3.635))
		.attr("class", "boxes premiereloge")
		.attr("stroke-width", measure * .03);

	var arcseats_4t = diagram.append("line")
		.attr("x1", width * .7 + (measure * .04))
		.attr("y1", height / 2 + (measure * .1))
		.attr("x2", width * .7 + (measure * .04))
		.attr("y2", height / 2 - (measure * .1))
		.attr("class", "boxes ampitheater")
		.attr("stroke-width", measure * .03);
	var arcseats_3t = diagram.append("line")
		.attr("x1", width * .68 + (measure * .03))
		.attr("y1", height / 2 + (measure * .18))
		.attr("x2", width * .68 + (measure * .03))
		.attr("y2", height / 2 - (measure * .18))
		.attr("class", "boxes ampitheater")
		.attr("stroke-width", measure * .03);
	var arcseats_2t = diagram.append("line")
		.attr("x1", width * .66 + (measure * .02))
		.attr("y1", height / 2 + (measure * .2))
		.attr("x2", width * .66 + (measure * .02))
		.attr("y2", height / 2 - (measure * .2))
		.attr("class", "boxes ampitheater")
		.attr("stroke-width", measure * .03);
	var arcseats_1t = diagram.append("line")
		.attr("x1", width * .64 + (measure * .01))
		.attr("y1", height / 2 + (measure * .22))
		.attr("x2", width * .64 + (measure * .01))
		.attr("y2", height / 2 - (measure * .22))
		.attr("class", "boxes ampitheater")
		.attr("stroke-width", measure * .03);

	var parterre = diagram.append("rect")
		.attr("x", width * .35)
		.attr("y", height / 2 - (measure * .24))
		.attr("width", width * .245)
		.attr("height", measure / 2 - (measure * .02))
		.attr("class", "boxes parterre");

	var frontseats_3 = diagram.append("line")
		.attr("x1", width * .31)
		.attr("y1", height / 2 + (measure * .24))
		.attr("x2", width * .31)
		.attr("y2", height / 2 - (measure * .24))
		.attr("class", "boxes line")
		.attr("stroke-width", measure * .02);
	var frontseats_2 = diagram.append("line")
		.attr("x1", width * .29)
		.attr("y1", height / 2 + (measure * .24))
		.attr("x2", width * .29)
		.attr("y2", height / 2 - (measure * .24))
		.attr("class", "boxes line")
		.attr("stroke-width", measure * .02);
	var frontseats_1 = diagram.append("line")
		.attr("x1", width * .27)
		.attr("y1", height / 2 + (measure * .24))
		.attr("x2", width * .27)
		.attr("y2", height / 2 - (measure * .24))
		.attr("class", "boxes line")
		.attr("stroke-width", measure * .02);

	var classname;
	$(document).on("mouseover", ".boxes", function(){
			classname = $(this).attr("class").split(" ")[1];
			highlight(classname, "gold");
		})
		.mouseout(function(){
			highlight(classname, "#159489");
		});


	function highlight(selector, color){

	    var elements = $("." + selector);    
	    for (var i = 0; i < elements.length; i++) {
	        elements[i].style.fill = color;
	        elements[i].style.stroke = color;
	    }
	}

	// $(document).on("mouseover",  ".boxes", function(){
	// 	var classname = $(this).attr("class").split(" ")[1];
	// 	$("." + classname).attr("fill", "gold");

	// }).on("mouseout", function(){
	// 	// var classname = $(this).attr("class").split(" ")[1];
	// 	$("." + classname).style.fill = "#159489";
	// });


	// 	var classname = $(this).attr("class").split(" ")[1];
	// 	var elms = $("." + classname);
	// 	var n = elms.length;
	// 	for(var i = 0; i < n; i ++) {
	// 	    elms[i].onmouseover = function() {
	// 	        changeColor("gold");
	// 	    };
	// 	    elms[i].onmouseout = function() {
	// 	        changeColor("#159489");
	// 	    };
	// 	}		
	// 	function changeColor(color) {
	// 	    for(var i = 0; i < n; i ++) {
	// 	    	elms[i].style.fill = color;	
	// 	        elms[i].style.stroke = color;
	// 	    }
	// 	}


	// });







</script>
