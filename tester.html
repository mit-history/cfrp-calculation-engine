<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="heatmap-styles.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
	<script type="text/javascript" src="cfrp-engine.js"></script>
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
	<title></title>
	<script type="text/javascript">
		$.ajaxSetup({
    		async: false
		});
		$("document").ready(function () {
			seasonChange("1680-1681");
		});
		$(function () {
			getSeasonMinMax('1680-1681');
			$("#season1").on("change", function (e) {

				if (e.originalEvent) {
					if(parseInt($("#season1").val()) < 1680 || isNaN(parseInt($("#season1").val()))) {
						$("#season1").val("1680");
					}
					if(parseInt($("#season1").val()) > 1792) {
						$("#season1").val("1792");
					}
					$("html").css("cursor", "progress");
					$("#season2").val(parseInt($("#season1").val())+1);
					seasonChange($("#season1").val() + "-" + $("#season2").val());
				}
			});
			$("#season2").on("change", function (e) {
				if (e.originalEvent) {
					if(parseInt($("#season1").val()) < 1681 || isNaN(parseInt($("#season1").val()))) {
						$("#season2").val("1681");
					}
					if(parseInt($("#season1").val()) > 1793) {
						$("#season2").val("1793");
					}
					$("html").css("cursor", "progress");
					$("#season1").val(parseInt($("#season2").val())-1);
					seasonChange($("#season1").val() + "-" + $("#season2").val());
				}
			});

			$("#dayDate").on("change", function (e) {
				$("html").css("cursor", "progress");
				if (e.originalEvent) {
					dateChange($("#dayDate").val());
				}
			});
		});
	</script>
</head>
<body>
	<div class="heatmap-main">
		<div class="heatmap-chooser"> 
			<div class="season">
				<input type="text" value="1680" id="season1"/> – <input type="text" value="1681" id="season2"/>
			</div>
			<div class="slider-box">
				<div id="slider">
					<div id="custom-handle" class="ui-slider-handle"></div>
				</div>
			</div> 
			<div class="date">
				<input type="text" id="dayDate"/>
			</div>
		</div>
		<div class="heatmap-infodis"> 
			<div class="theater">
			</div>
			<div class="play"> 
			</div>
		</div>
		<div class="heatmap-theaterdisplay">
		</div>
	</div>
</body>
</html>